{% extends 'base.html' %}
{% load static %}
{% block css_js %}
  <link rel="stylesheet" href="{% static 'adminlte/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}" />
  <link rel="stylesheet" href="{% static 'adminlte/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}" />
  <link rel="stylesheet" href="{% static 'adminlte/plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}" />

  <script src="{% static 'adminlte/plugins/datatables/jquery.dataTables.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
{% endblock %}

{% block content %}
  <div class="card mt-2">
    <div class="card-header d-flex">
      <h3 class="mb-0">样品列表</h3>
      <div class="ml-auto">
        <a class="btn btn-outline-warning" href="{% url 'sale:samples' %}"><i class="nav-icon fas fa-plus"></i> 查看进行中样品单</a>
        <a class="btn btn-outline-primary" href="{% url 'sale:samples-create' %}"><i class="nav-icon fas fa-plus"></i> 新建样品单</a>
      </div>
    </div>
    <div class="card-body">
      <table id="table1" class="table table-bordered table-striped text-center">
        <thead>
          <tr>
            <th>产品规格</th>
            <th>客户</th>
            <th>数量</th>
            <th>下样日期</th>
            <th>回复交期</th>
            <th>备注</th>
            <th>交货日</th>
          </tr>
        </thead>
        <tbody>
          {% for obj in object_list %}
            <tr>
              <td>
                <a href="#">{{ obj.product }}</a>
              </td>
              <td>{{ obj.client }}</td>
              <td>{{ obj.quantity }}</td>
              <td>{{ obj.created_at }}</td>
              <td>{{ obj.lead_time|default:'/' }}</td>
              <td>{{ obj.note|default:'/' }}</td>
              <td>{{ obj.send_at|date:'Y年m月d日'|default:'/' }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <script src="{% static 'adminlte/plugins/datatables/jquery.dataTables.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
  <script src="{% static 'adminlte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>

  <script>
    $(function () {
      $('#table1').DataTable({
        language: {
          search: '搜索：'
        },
        paging: true,
        lengthChange: true,
        searching: true,
        ordering: true,
        info: false,
        autoWidth: false,
        responsive: true
      })
    })
  </script>
{% endblock %}
